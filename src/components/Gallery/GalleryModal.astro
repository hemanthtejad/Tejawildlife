---
import { X, ChevronLeft, ChevronRight, Camera, Sliders, MapPin } from 'lucide-astro';
import type { ImageDetails } from './types';

interface Props {
  images: ImageDetails[];
}

const { images } = Astro.props;
---

<dialog id="gallery-modal" class="backdrop:bg-black/80 p-0 bg-transparent max-w-[95vw] max-h-[95vh] w-full sm:w-auto">
  <div class="bg-white rounded-lg shadow-xl overflow-hidden max-h-[95vh] flex flex-col">
    <!-- Header -->
    <div class="flex justify-between items-center p-4 border-b">
      <h3 class="text-lg font-semibold" id="modal-title"></h3>
      <button class="modal-close p-2 hover:bg-gray-100 rounded-lg transition-colors">
        <X class="w-5 h-5" />
      </button>
    </div>

    <!-- Content -->
    <div class="flex flex-col lg:flex-row overflow-hidden">
      <!-- Image -->
      <div class="relative flex-1 bg-black flex items-center justify-center min-h-[300px]">
        <img id="modal-image" class="max-h-[70vh] w-auto object-contain" src="" alt="" />
        
        <!-- Navigation buttons -->
        <button class="nav-prev absolute left-4 p-2 bg-white/90 rounded-full shadow-lg hover:bg-white transition-colors">
          <ChevronLeft class="w-6 h-6" />
        </button>
        <button class="nav-next absolute right-4 p-2 bg-white/90 rounded-full shadow-lg hover:bg-white transition-colors">
          <ChevronRight class="w-6 h-6" />
        </button>
      </div>

      <!-- Details -->
      <div class="w-full lg:w-96 p-6 overflow-y-auto">
        <div class="space-y-6">
          <!-- Camera Details -->
          <div class="space-y-3">
            <div class="flex items-center gap-2 font-medium">
              <Camera class="w-5 h-5" />
              <h4>Camera Details</h4>
            </div>
            <dl class="grid grid-cols-2 gap-2 text-sm" id="camera-details"></dl>
          </div>

          <!-- Post Processing -->
          <div class="space-y-3">
            <div class="flex items-center gap-2 font-medium">
              <Sliders class="w-5 h-5" />
              <h4>Post Processing</h4>
            </div>
            <div class="space-y-2 text-sm" id="post-processing"></div>
          </div>

          <!-- Shooting Context -->
          <div class="space-y-3">
            <div class="flex items-center gap-2 font-medium">
              <MapPin class="w-5 h-5" />
              <h4>Shooting Context</h4>
            </div>
            <div class="space-y-2 text-sm" id="shooting-context"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</dialog>